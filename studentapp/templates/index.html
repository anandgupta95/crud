<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>student app</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  </head>
  <body>
    <div class="row">
        <div class="row m-auto w-75 bg-body-secondary rounded-3 shadow mt-4 ">
            <span class="fw-bolder text-center fs-2">CRUD PROJECT</span> 
        </div>
        
        <div class="col-sm-5 m-auto mt-5 border-1">
            <form class="form" method="post" action="{% url 'index' %}">
                {% csrf_token %}
                
                  <h1 class="bg-danger-subtle fs-3 text-center rounded-2 p-2">Student Registration form</h1>
                  {% if msg1 %}
                  <div class="alert alert-success" role="alert">
                    {{msg1}}
                  </div>
                  {% endif %}
      
                  <label class="from-label mt-2 fw-bold mb-2">Enter roll no.</label>
                  <input type="text"  name="roll_no" required placeholder="Please enter your rollno" class="form-control mb-2" />
                  
                  <label class="from-label mt-2 fw-bold mb-2">Enter your name</label>
                  <input type="text" name="name" required  placeholder="Please enter your name" class="form-control mb-2" />
      
                  <label class="from-label mt-2 fw-bold mb-2" required>Select Branch</label>
                  <select class="form-control mb-2" name="branch">
                    <option  selected>--Select branch---</option>
                    <option value="CSE">CSE</option>
                    <option value="IT">IT</option>
                    <option value="ME">ME</option>
                  </select>
      
                  <label class="from-label fw-bold mt-2" required>Enter Email Address</label>
                  <input type="email" name="email" placeholder="Please enter your email" class="form-control mt-2" />
                  
                  <div class="row m-auto mt-4">
                    <button class="btn btn-success ">Submit</button>
                  </div>
                  
              </form>
        </div>

        <div class="col-sm-6 m-auto">
            <h1 class="bg-danger-subtle fs-3 text-center mt-5 rounded-2 p-2">Registered Student</h1>
            <table class="table table-striped">
                <thead>
                  <tr>
                    <th>
                      Roll no
                    </th>
                    <th>
                      Name
                    </th>
                    <th>
                      Branch
                    </th>
                    <th>E-mail</th>
                    <th>Delete</th>
                    <th>Update</th>
                  </tr>
    
                </thead>
                <tbody>
                  {% for s in info %}
                          <tr>
                             <td>{{s.roll_no}}</td>
                             <td>{{s.name}}</td>
                             <td>{{s.branch}}</td>
                             <td>{{s.email}}</td>
                             <td>
                               <a href="{% url 'deletestudent' id=s.roll_no %}"> 
                                 <button class="btn btn-danger">Delete</button>
                               </a>
                             </td>
                             <td>
                               <a href="{% url 'updatestudent' id=s.roll_no %}">
                                 <button class="btn btn-success"> Update </button>
                               </a>
                             </td>
                          </tr>
                  {% endfor %}
                   
                </tbody>
              </table>
        </div>

    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
  </body>
</html>